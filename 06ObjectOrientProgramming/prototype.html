<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>prototype</title>
</head>
<body>

</body>
<script>
    /** 使用prototype 解决两份函数的问题 */
    /** prototype中的数据是共享的，不可改变 **/

    function Person(id) {
        this.id = id;
        this.name = 'xx';
    };

    Person.prototype = {
        constructor: Person, // 保证person1.constructor == Person
        name: "zk",
        age: 20,
        friends: ["fangjun", "junjian"],
        sayName: function () {
            return this.name;
        }
    };


    var p1 = new Person();
    var p2 = new Person();
    console.log(p1);
    console.log(p2);

//    console.log('instanceof:', p1 instanceof Person);
//    console.log('instanceof:', p2 instanceof Person);
//    p2.name = "zy"; // 并没有改变prototype中的name
//     delete p2.name;
//    console.log('hasOwnProperty id:', p1.hasOwnProperty("id"));
//    console.log('hasOwnProperty name:', p1.hasOwnProperty("name"));


    // 可以用for in 代替
//     console.log('Person.prototype keys:', Object.keys(Person.prototype));
//     console.log('p1 keys:', Object.keys(p1));
//     console.log('Person.prototype ownPropertyNames: ', Object.getOwnPropertyNames(Person.prototype));
//     console.log('p1 ownPropertyNames: ', Object.getOwnPropertyNames(p1));

    Person['extend'] = function () {

    };

    console.log('------- Person -----------');
    for(var key in Person) {
        console.log(key, Person.hasOwnProperty(key));
    }
    console.log('----------Person.prototype --------');

    for(var key in Person.prototype) {
        console.log(key, Person.prototype.hasOwnProperty(key));
    }
    console.log('-----------Person instance -------');

    for(var key in p1) {
        console.log(key, p1.hasOwnProperty(key));
    }



    // protoType是共享的
    // p1.friends.push("wangwei");
    // console.log(p1);
    // console.log(p2);
    // console.log(Person.prototype);
</script>
</html>