<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>队列</title>
    <script src="jquery-1.7.1.js"></script>
    <!--<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.1.js"></script>-->
</head>
<body>
    <div id="a">队列测试</div>
</body>
<script>
    var $a = $("#a");
    var type = 'my';
    // 入队
    $a.queue(type, function () {
	    console.log('test1');
    });
    $a.queue(type, function () {
	    console.log('test2');
    });
    // 所有队列执行完 && type+mark变成0时执行
    $a.promise(type).done(function () {
	    console.log('done!');
    });

    console.log($.cache);

    // 出队并执行
    $a.dequeue(type);
    $a.dequeue(type);

</script>
</html>